{"version":3,"sources":["components/aside/index.jsx","components/content/index.jsx","App.js","index.js"],"names":["onSubmitHandler","evt","setData","setIsLoading","setStatus","a","preventDefault","region","FormData","target","get","city","street","house","console","log","fetch","method","headers","Token","body","JSON","stringify","query","region_code","raion","settlement","building","block","flat","grouped","data","json","resp","status","statusText","Aside","isLoading","useState","className","onSubmit","name","type","placeholder","defaultValue","disabled","join","ContentItem","CADNOMER","ADDRESS","copyItems","value","navigator","clipboard","writeText","Content","error","length","found","onClick","objects","map","item","key","App","isLoadeng","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8356b113.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport \"./style.scss\";\n\nconst onSubmitHandler = async (evt, setData, setIsLoading, setStatus) => {\n  setIsLoading(true);\n  evt.preventDefault();\n  const region = new FormData(evt.target).get(\"region\");\n  const city = new FormData(evt.target).get(\"city\");\n  const street = new FormData(evt.target).get(\"street\");\n  const house = new FormData(evt.target).get(\"house\");\n  const flat = new FormData(evt.target).get(\"flat\");\n  console.log(region, city, street, house);\n\n  if (!street || !city || !street || !house) {\n    setIsLoading(false);\n    return;\n  }\n\n  try {\n    const data = await fetch(\"https://apirosreestr.ru/api/cadaster/search\", {\n      method: \"POST\",\n      headers: {\n        Token: \"GRGW-EZEB-K7SH-YTSL\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        query: {\n          region_code: \"57\",\n          raion: \"Орел\",\n          settlement: \"\",\n          street: \"Новикова\",\n          house: \"8\",\n          building: \"\",\n          block: \"\",\n          flat: \"\",\n        },\n        grouped: 0,\n      }),\n    });\n    const resp = await data.json();\n    console.log(resp);\n    setStatus([data.status, data.statusText]);\n    setData(resp);\n    setIsLoading(false);\n  } catch (err) {\n    console.log(err);\n    setIsLoading(false);\n  }\n};\n\nfunction Aside({ setData, isLoading, setIsLoading }) {\n  const [status, setStatus] = useState(null);\n\n  return (\n    <div className=\"Aside\">\n      <form\n        onSubmit={(evt) =>\n          onSubmitHandler(evt, setData, setIsLoading, setStatus)\n        }\n      >\n        <label>\n          Регион*\n          <input\n            name=\"region\"\n            type=\"text\"\n            placeholder=\"Регион\"\n            defaultValue=\"57\"\n          />\n        </label>\n        <label>\n          Город*\n          <input\n            name=\"city\"\n            type=\"text\"\n            placeholder=\"Город\"\n            defaultValue=\"Орел\"\n          />\n        </label>\n        <label>\n          Улица*\n          <input name=\"street\" type=\"text\" placeholder=\"Улица\" />\n        </label>\n        <label>\n          Дом*\n          <input name=\"house\" type=\"text\" placeholder=\"Дом\" />\n        </label>\n        <label>\n          Квартира\n          <input name=\"flat\" type=\"text\" placeholder=\"Квартира\" />\n        </label>\n        <footer>\n          <button disabled={isLoading}>Найти</button>{\" \"}\n          {status && status.join(\" \")}\n        </footer>\n      </form>\n    </div>\n  );\n}\n\nexport default Aside;\n","import React from \"react\";\nimport \"./style.scss\";\n\nconst ContentItem = ({ CADNOMER, ADDRESS }) => {\n  return (\n    <tr className=\"Content__item\">\n      <th>{CADNOMER}</th>\n      <td>{ADDRESS}</td>\n    </tr>\n  );\n};\n\nconst copyItems = async (value) => {\n  try {\n    await navigator.clipboard.writeText(value);\n    console.log(\"Copied\");\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst Content = ({ data, isLoading }) => {\n  const error = !!data?.error?.length;\n  // data = {\n  //   found: 77,\n  //   objects: [{ CADNOMER: 123 }, { CADNOMER: 777 }],\n  // };\n\n  return (\n    <div className={`Content ${isLoading ? \"Content--loading\" : \"\"}`}>\n      {error && <div>Ошибка {JSON.stringify(data.error)} </div>}\n      {data && data.found && (\n        <div>\n          <div>\n            Найдено: {data.found}\n            <button\n              className=\"Content__copy\"\n              onClick={(evt) => {\n                evt.preventDefault();\n                copyItems(\n                  data.objects.map(({ CADNOMER }) => CADNOMER).join(\" \")\n                );\n              }}\n            >\n              Копировать кадастровые номера\n            </button>\n          </div>\n          <hr />\n          <div className=\"Content__list\">\n            <table>\n              <tbody>\n                {data.objects.map((item) => (\n                  <ContentItem key={item.CADNOMER} {...item} />\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Content;\n","import React, { useState } from \"react\";\nimport Aside from \"components/aside\";\nimport Content from \"components/content\";\n\nconst App = () => {\n  const [data, setData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  return (\n    <div className=\"main\">\n      <Aside\n        setData={setData}\n        setIsLoading={setIsLoading}\n        isLoadeng={isLoading}\n      />\n      <Content data={data} isLoading={isLoading} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}